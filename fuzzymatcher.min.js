(function(){function f(){this.Match_Threshold=.3,this.Match_Distance=10,this.Match_MaxBits=32}var b=this,c=b.fuzzymatcher,d={},e={};f.prototype.match_main=function(a,b,c){if(a==null||b==null||c==null)throw new Error("Null input. (match_main)");return c=Math.max(0,Math.min(c,a.length)),a==b?0:a.length?a.substring(c,c+b.length)==b?c:this.match_bitap_(a,b,c):-1},f.prototype.match_bitap_=function(a,b,c){function f(a,d){var f=a/b.length,g=Math.abs(c-d);return e.Match_Distance?f+g/e.Match_Distance:g?1:f}if(b.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var d=this.match_alphabet_(b),e=this,g=this.Match_Threshold,h=a.indexOf(b,c);h!=-1&&(g=Math.min(f(0,h),g),h=a.lastIndexOf(b,c+b.length),h!=-1&&(g=Math.min(f(0,h),g)));var i=1<<b.length-1;h=-1;var j,k,l=b.length+a.length,m;for(var n=0;n<b.length;n++){j=0,k=l;while(j<k)f(n,c+k)<=g?j=k:l=k,k=Math.floor((l-j)/2+j);l=k;var o=Math.max(1,c-k+1),p=Math.min(c+k,a.length)+b.length,q=Array(p+2);q[p+1]=(1<<n)-1;for(var r=p;r>=o;r--){var s=d[a.charAt(r-1)];n===0?q[r]=(q[r+1]<<1|1)&s:q[r]=(q[r+1]<<1|1)&s|((m[r+1]|m[r])<<1|1)|m[r+1];if(q[r]&i){var t=f(n,r-1);if(t<=g){g=t,h=r-1;if(h>c)o=Math.max(1,2*c-h);else break}}}if(f(n+1,c)>g)break;m=q}return h},f.prototype.match_alphabet_=function(a){var b={};for(var c=0;c<a.length;c++)b[a.charAt(c)]=0;for(var c=0;c<a.length;c++)b[a.charAt(c)]|=1<<a.length-c-1;return b},d.levenshtein=levenshtein=function g(b,c){if(!b||!c)return!1;str=b.toLowerCase().replace(/[^a-z]/g,""),t=c.toLowerCase().replace(/[^a-z]/g,"");var d,e,f,g=new Array;if(str.length==0)return str.length;if(t.length==0)return a.length;for(d=0;d<=t.length;d++)g[d]=new Array,g[d][0]=d;for(e=0;e<=str.length;e++)g[0][e]=e;for(d=1;d<=t.length;d++)for(e=1;e<=str.length;e++)t.toLowerCase().charAt(d-1)==str.toLowerCase().charAt(e-1)?f=0:f=1,g[d][e]=Math.min(g[d-1][e]+1,g[d][e-1]+1,g[d-1][e-1]+f);return g[t.length][str.length]},d.memoize=memoize=function(a,b){return cache={},function(){var b=Array.prototype.slice.call(arguments),c="",d=b.length;currentArg=null;while(d--)currentArg=b[d],c+=currentArg===Object(currentArg)?JSON.stringify(currentArg):currentArg;return c in cache?cache[c]:cache[c]=a.apply(this,b)}},_query=function(a,b){data=e[a].data;var c=data.length,d=0,f=[];for(var g=0;g<c;g++){var h=matcher.match_main(data[g].name.toLowerCase(),b,0);if(h!==-1){d+=1;var i=JSON.parse(JSON.stringify(data[g])),j=levenshtein(i.name,b),k=j+h,l="";dnl=i.name.length,ql=b.length;for(var m=0;m<dnl;m++){var n=i.name.charAt(m);for(var o=0;o<ql;o++)if(i.name.charAt(m).toLowerCase()===b.charAt(o).toLowerCase()){n="<strong>"+n+"</strong>";break}l+=n}i.highlighted=l,i.match_score=k,f.push(i)}if(d>100)break}return f.sort(function(a,b){return a.match_score-b.match_score}),f},d.addList=function(a,b){return e[a]&&delete e[a],a==="all"?!1:(e[a]={name:a,memoized:memoize(_query),data:b},!0)},d.query=function(a,b){if(!b)return!1;if(a==="all"){var c=[];for(var d in e)hasOwnProperty.call(e,d)&&(c[c.length]=d);a=c}typeof a=="string"&&(a=[a]);var f=a.length;for(var g=0;g<f;g++)if(typeof e[a[g]]=="undefined")return!1;matches=[];for(var g=0;g<f;g++)matches=matches.concat(e[a[g]].memoized(a[g],b));return a.length>1&&matches.sort(function(a,b){return a.match_score-b.match_score}),matches},d.htmlQuery=function(a,b,c){if(typeof e[a]=="undefined")return!1;var f=d.query(a,b),g="";if(f.length>0){f=f.slice(0,c),f.length<c&&(c=f.length);for(var h=0;h<c;h++)g+="<li>"+f[h].highlighted+"</li>";var i=document.createElement("div");i.innerHTML=g;var j=document.createDocumentFragment();while(i.firstChild)j.appendChild(i.firstChild);return j}},matcher=new f,window.fuzzymatcher=d})();